<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="/js/select2.min.js"></script>
<script src="/js/searchbar.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$("#logout").click(function(event) {
			event.preventDefault()
	  	firebase.auth().signOut().then(function(){
	  		window.location.href = "/logout"
	    },function(error) {
	      console.log("ERROR: "+error.message)
	      alert("Something went wrong logging you out. Please refresh and try again.")
	    })
		})
		
		//Saving and Unsaving Dishes and Restaurants.
		$('input[type="checkbox"][name="fav_dishkey"]').click(function(){
      var favdishkey=$(this).val();
      var user= firebase.auth().currentUser.uid;
      if($(this).prop("checked") == true){
        var data={
          favdishkey: favdishkey,
          user: user,
          add: true
        }
        $.post('/newFavDish', data);
      }
      else if($(this).prop("checked") == false){
        var data={
          favdishkey: favdishkey,
          user: user,
          add: false
        }
        $.post('/newFavDish', data);
      }
    });
    
    $('input[type="checkbox"][name="fav_reskey"]').click(function(){
      var favreskey=$(this).val();
      var user= firebase.auth().currentUser.uid;
      if($(this).prop("checked") == true){
        var data={
          favreskey: favreskey,
          user: user,
          add: true
        }
        $.post('/newFavRes', data);
      }
      else if($(this).prop("checked") == false){
        var data={
          favreskey: favreskey,
          user: user,
          add: false
        }
        $.post('/newFavRes', data);
      }
    });	
	})
	
</script>